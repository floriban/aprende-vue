<script setup lang="ts">
import { ref, type Ref } from 'vue';

interface Pelicula {
    nombre: string;
    a√±o_estreno: number;
    genero: string;
    pais_origen: string;
    clasificacion: string;
}

let countries: Ref<Array<string>> = ref([
    "Argentina",
    "Brasil",
    "Canad√°",
    "Chile",
    "Colombia",
    "Costa Rica",
    "Ecuador",
    "Espa√±a",
    "Estados Unidos",
    "Francia",
    "Alemania",
    "Guatemala",
    "Honduras",
    "Italia",
    "M√©xico",
    "Nicaragua",
    "Panam√°",
    "Paraguay",
    "Per√∫",
    "Uruguay"
])

let peliculas: Ref<Array<Pelicula>> = ref([
    {
        "nombre": "Tenet",
        "a√±o_estreno": 2020,
        "genero": "Ciencia ficci√≥n",
        "pais_origen": "Estados Unidos",
        "clasificacion": "PG-13"
    },
    {
        "nombre": "Duna",
        "a√±o_estreno": 2021,
        "genero": "Ciencia ficci√≥n",
        "pais_origen": "Estados Unidos",
        "clasificacion": "PG-13"
    },
    {
        "nombre": "Nomadland",
        "a√±o_estreno": 2020,
        "genero": "Drama",
        "pais_origen": "Estados Unidos",
        "clasificacion": "R"
    },
    {
        "nombre": "La mano de Dios",
        "a√±o_estreno": 2021,
        "genero": "Drama",
        "pais_origen": "Italia",
        "clasificacion": "R"
    },
    {
        "nombre": "Drive My Car",
        "a√±o_estreno": 2021,
        "genero": "Drama",
        "pais_origen": "Jap√≥n",
        "clasificacion": "NR"
    },
    {
        "nombre": "Top Gun: Maverick",
        "a√±o_estreno": 2022,
        "genero": "Acci√≥n",
        "pais_origen": "Estados Unidos",
        "clasificacion": "PG-13"
    },
    {
        "nombre": "RRR",
        "a√±o_estreno": 2022,
        "genero": "Acci√≥n",
        "pais_origen": "India",
        "clasificacion": "NR"
    },
    {
        "nombre": "Barbie",
        "a√±o_estreno": 2023,
        "genero": "Comedia",
        "pais_origen": "Estados Unidos",
        "clasificacion": "PG-13"
    },
    {
        "nombre": "Oppenheimer",
        "a√±o_estreno": 2023,
        "genero": "Biograf√≠a",
        "pais_origen": "Estados Unidos",
        "clasificacion": "R"
    },
    {
        "nombre": "El agente nocturno",
        "a√±o_estreno": 2023,
        "genero": "Thriller",
        "pais_origen": "Canad√°",
        "clasificacion": "TV-MA"
    }
])

type Genero = "Ciencia ficci√≥n" | "Drama" | "Acci√≥n" | "Comedia" | "Biograf√≠a" | "Thriller";

const generoEmoji: Record<Genero, string> = {
    "Ciencia ficci√≥n": "üöÄ",
    "Drama": "üé≠",
    "Acci√≥n": "üí•",
    "Comedia": "üòÇ",
    "Biograf√≠a": "üìñ",
    "Thriller": "üïµÔ∏è"
};

function getEmoji(genero: string): string {
    return generoEmoji[genero as Genero] ?? "‚ùì"
}
</script>

<template>
    <p>Paises</p>
    <ul>
        <li v-for="(country, index) in countries" :key="index">{{ index + 1 }} - {{ country }}</li>
    </ul>

    <p>Peliculas</p>
    <ul class="list-movies">
        <li v-for="(pelicula, index) in peliculas" :key="index">
            <p class="name">{{ pelicula.nombre }}</p>
            <p class="gender">{{ `${pelicula.genero} - ${getEmoji(pelicula.genero)}` }}</p>
            <p class="country">{{ pelicula.pais_origen }}</p>
            <p class="year">{{ pelicula.a√±o_estreno }}</p>
            <p class="classification">{{ pelicula.clasificacion }}</p>
        </li>
    </ul>
</template>

<style scoped>
.list-movies {
    list-style: none;
    margin: 0;
    padding: 0;
    display: flex;
    flex-wrap: wrap;
    justify-content: space-between;
    align-items: center;
    color: #555;
    font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;

    & li {
        border: 1px solid #ccc;
        border-radius: 4px;
        padding: 10px;
        width: 180px;
        height: 160px;
        margin-bottom: 10px;
    }

    & p {
        line-height: 12px;
    }

    & .name {
        text-align: center;
        font-weight: bold;
        text-transform: uppercase;
    }

    & .gender {
        font-size: 12px;
        text-align: center;
    }
}
</style>
